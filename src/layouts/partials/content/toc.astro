---
const { headings, mobile } = Astro.props
---
<aside class={`content-nav on-this-page ${mobile ? "hide:lg-tablet background--lighter p-3 mb-4" : "hide show:lg-tablet tablet-up-4 lg-tablet-up-3 laptop-up-2 pr-4"} text--capitalize`}>
    <h2 class="text--size-md">On This Page</h2>
    <ul class="list">
      {
        headings
        .filter(heading => heading.depth < 4 && heading.depth > 1)
        .map((heading) => (
          <li class={`${heading.depth === 3 ? "pl-3" : ""}`}>
            <a href={`#${heading.slug}`}>{heading.text}</a>
          </li>
        ))
      }
    </ul>
</aside>